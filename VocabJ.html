<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocab Flow</title>
    <style>
        :root {
            --primary-color: #007aff;
            --success-color: #2ecc71;
            --bg-color: #f9fbfd;
            --text-main: #2c3e50;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #333;
        }

        .container {
            text-align: center;
            padding: 32px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            max-width: 450px;
            width: 90%;
            transition: transform 0.3s ease;
        }

        .logo-icon {
            font-size: 48px;
            margin-bottom: 16px;
            display: inline-block;
        }

        h2 {
            margin: 0 0 8px;
            color: var(--text-main);
            font-size: 24px;
            font-weight: 700;
        }

        p {
            color: #666;
            font-size: 15px;
            margin-bottom: 24px;
        }

        .status-area {
            padding: 16px;
            background: #f8f9fa;
            border-radius: 12px;
            margin-bottom: 24px;
            border: 1px solid #eee;
        }

        .device-info {
            font-weight: 600;
            color: var(--primary-color);
        }

        .secondary-link {
            font-size: 14px;
            color: #999;
            text-decoration: none;
        }

        .secondary-link:hover {
            text-decoration: underline;
        }

        .countdown-text {
            color: #888;
            font-size: 14px;
            font-weight: 500;
        }

        #timer-num {
            color: var(--primary-color);
            font-weight: bold;
            margin: 0 2px;
        }

        /* åŠ¨ç”» */
        .loading-dots::after {
            content: '.';
            animation: dots 1.5s steps(5, end) infinite;
        }

        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60% { content: '...'; }
            80%, 100% { content: ''; }
        }
    </style>
</head>

<body>

    <div class="container">
        <div class="logo-icon">ğŸ“–</div>
        <h2>Vocab Flow</h2>
        <p>æ™ºèƒ½è¯†åˆ«è®¾å¤‡ï¼Œä¸ºæ‚¨å¼€å¯æœ€ä½³å­¦ä¹ ä½“éªŒ</p>

        <div class="status-area">
            æ£€æµ‹åˆ°å½“å‰è®¾å¤‡ï¼š<br>
            <span id="device-type" class="device-info">è¯†åˆ«ä¸­...</span>
        </div>

        <div id="action-area">
            <div class="countdown-text">
                å°†åœ¨ <span id="timer-num">5</span> ç§’åè‡ªåŠ¨è·³è½¬<span class="loading-dots"></span>
            </div>
        </div>

        <div style="margin-top: 30px; border-top: 1px dashed #eee; padding-top: 20px;">
            <a href="#" id="manual-switch" class="secondary-link">æ‰‹åŠ¨åˆ‡æ¢è‡³å…¶ä»–ç‰ˆæœ¬</a>
        </div>
    </div>

    <script>
        // --- é…ç½®åŒºåŸŸ ---
        const PC_URL = "https://YunfanShi.github.io/Vocab.html";         
        const PHONE_URL = "https://YunfanShi.github.io/VocabM.html"; 

        function detectDevice() {
            const ua = navigator.userAgent;
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ua) ? 'Mobile' : 'PC';
        }

        function startRedirect() {
            const device = detectDevice();
            const deviceSpan = document.getElementById('device-type');
            const manualLink = document.getElementById('manual-switch');
            const timerSpan = document.getElementById('timer-num');
            
            let targetUrl = "";
            let timeLeft = 5; // è¿™é‡Œè®¾ç½®å€’è®¡æ—¶çš„ç§’æ•°

            // 1. è¯†åˆ«è®¾å¤‡å¹¶è®¾ç½®åˆå§‹ UI
            if (device === 'Mobile') {
                deviceSpan.textContent = "ğŸ“± ç§»åŠ¨ç«¯ (æ‰‹æœº/å¹³æ¿)";
                manualLink.textContent = "å¼ºåˆ¶è®¿é—®ç”µè„‘ç‰ˆ";
                manualLink.href = PC_URL;
                targetUrl = PHONE_URL;
            } else {
                deviceSpan.textContent = "ğŸ’» æ¡Œé¢ç«¯ (PC/Mac)";
                manualLink.textContent = "åˆ‡æ¢åˆ°æ‰‹æœºé¢„è§ˆç‰ˆ";
                manualLink.href = PHONE_URL;
                targetUrl = PC_URL;
            }

            // 2. å¯åŠ¨å€’è®¡æ—¶å™¨
            const countdown = setInterval(() => {
                timeLeft--;
                timerSpan.textContent = timeLeft; // æ›´æ–°é¡µé¢ä¸Šçš„æ•°å­—
                
                if (timeLeft <= 0) {
                    clearInterval(countdown); // åœæ­¢è®¡æ—¶å™¨
                    window.location.href = targetUrl; // è·³è½¬
                }
            }, 1000); // æ¯ 1000 æ¯«ç§’ï¼ˆ1ç§’ï¼‰æ‰§è¡Œä¸€æ¬¡
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', startRedirect);
    </script>
</body>

</html>
